{"version":3,"sources":["js/03-feedback.js"],"names":["STORAGE_KEY","formData","form","document","querySelector","textarea","onFormSubmit","evt","preventDefault","currentTarget","reset","localStorage","removeItem","onTextareaInput","message","target","value","setItem","populateTextarea","savedMessage","getItem","addEventListener","e","name","console","log"],"mappings":";AAGA,MAAMA,EAAe,eACfC,EAAW,GAEXC,EAAOC,SAASC,cAAe,kBAC/BC,EAAWF,SAASC,cAAe,2BAezC,SAASE,EAAaC,GAClBA,EAAIC,iBAEJD,EAAIE,cAAcC,QAClBC,aAAaC,WAAWZ,GAI5B,SAASa,EAAgBN,GACfO,MAAAA,EAAUP,EAAIQ,OAAOC,MAE3BL,aAAaM,QAAQjB,EAAac,GAGtC,SAASI,IACCC,MAAAA,EAAeR,aAAaS,QAAQpB,GAEtCmB,IACAd,EAASW,MAAQG,GA9BzBjB,EAAKmB,iBAAkB,SAASf,GAEhCD,EAASgB,iBAAkB,QAAQR,GAEnCX,EAAKmB,iBAAkB,QAAQC,IAC3BrB,EAASqB,EAAEP,OAAOQ,MAAQD,EAAEP,OAAOC,MACnCQ,QAAQC,IAAIxB,KAIhBiB","file":"03-feedback.54ba61d0.js","sourceRoot":"../src","sourcesContent":["// npm i lodash.throttle\n// import throttle from 'lodash.throttle'\n\nconst STORAGE_KEY = `feedback-msg`;\nconst formData = {};\n\nconst form = document.querySelector(`.feedback-form`);\nconst textarea = document.querySelector(`.feedback-form textarea`);\n\n\nform.addEventListener(`submit`, onFormSubmit);\n// textarea.addEventListener(`input`, throttle(onTextareaInput, 500));\ntextarea.addEventListener(`input`, onTextareaInput);\n\nform.addEventListener(`input`, e => {\n    formData[e.target.name] = e.target.value;\n    console.log(formData);\n    // stringify\n})\n\npopulateTextarea();\n\nfunction onFormSubmit(evt) {\n    evt.preventDefault();\n\n    evt.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY)\n }\n\n\nfunction onTextareaInput(evt) {\n    const message = evt.target.value;\n\n    localStorage.setItem(STORAGE_KEY, message);\n}\n\nfunction populateTextarea() {\n    const savedMessage = localStorage.getItem(STORAGE_KEY);\n\n    if (savedMessage) {        \n        textarea.value = savedMessage;\n        // нужно будет распарсить\n    }\n}"]}